/*! iceKredit 2017-03-07 18:30:06 */
!function(){"use strict";angular.module("myApp",["ui.router","ngMessages","ui.bootstrap","ngTable","angularFileUpload","angular-cache","controllers","directives","services"]).config(["$stateProvider","$urlRouterProvider","authTable",function($stateProvider,$urlRouterProvider,authTable){$urlRouterProvider.otherwise("/index"),$stateProvider.state("index",{url:"/index",views:{"":{templateUrl:"app/home/main.html",controller:"mainCtrl"},"header@index":{templateUrl:"app/home/header.html"},"main@index":{templateUrl:"app/home/home.html"},"footer@index":{templateUrl:"app/home/footer.html"}},data:authTable.index})}]).config(["$httpProvider",function($httpProvider){}]).run(function($rootScope){$rootScope.$on("$stateChangeStart",function(){}),$rootScope.info={titleImg:"img/logo_icon.png",headerImg:"img/logo_top.png"}}).directive("updateTitle",["$rootScope","$timeout",function($rootScope,$timeout){return{link:function(scope,element){$rootScope.$on("$stateChangeSuccess",function(event,toState){var title="welcome to 1742";toState.data&&toState.data.pageTitle&&(title=toState.data.pageTitle),$timeout(function(){element.text(title)},0,!1)})}}}])}(),function(){angular.module("directives",[]).directive("sideBar",function(){return{restrict:"EA",templateUrl:"app/component/side-bar.html",replace:!0,link:function(){var animationSpeed=300;$(".sidebar-menu").on("click","li a",function(e){var $this=$(this),checkElement=$this.next();if(checkElement.is(".tree-view-menu")&&checkElement.is(":visible"))checkElement.slideUp(animationSpeed,function(){checkElement.removeClass("menu-open")}),checkElement.parent("li").removeClass("active");else if(checkElement.is(".tree-view-menu")&&!checkElement.is(":visible")){var parent=$this.parents("ul").first(),ul=parent.find("ul:visible").slideUp(animationSpeed);ul.removeClass("menu-open");var parent_li=$this.parent("li");checkElement.slideDown(animationSpeed,function(){checkElement.addClass("menu-open"),parent.find("li.active").removeClass("active"),parent_li.addClass("active")})}checkElement.is(".tree-view-menu")&&e.preventDefault()})}}}).directive("chart",function(charts){return{scope:{id:"@",option:"="},require:"ngModel",link:function(scope,ele,attr,ngModel){scope.$watch("option",function(){var myChart=echarts.init(document.getElementById(scope.id));myChart.setOption(ngModel.$modelValue),setTimeout(function(){myChart.resize()},0),charts.push(myChart),window.onresize=function(){angular.forEach(charts,function(i){i.resize()})}})}}}).factory("charts",function(){return[]}).directive("dropdown",function(){return{restrict:"EA",templateUrl:"app/home/dropdown.html",replace:!0,scope:{ngModel:"=",list:"=",showKey:"@",chooseKey:"@",id:"@",placeholder:"@",required:"@",func:"&",clear:"&",filter:"@",primary:"="},link:function(scope){scope.$watch("list",function(){scope.List=scope.list});var timer=scope.$watch("primary",function(n,o){n&&(scope.Input=scope.primary,timer())});scope.filter&&(scope.isFilter=!0),scope.showKey?(scope.isObj=!0,scope.setKeyToValue=function(obj){scope.ngModel=obj[scope.chooseKey],scope.Input=obj[scope.showKey],scope.func({p:scope.ngModel})}):scope.setKeyToValue=function(value){scope.ngModel=value,scope.Input=scope.ngModel,scope.func({p:scope.ngModel})},scope.$watch("ngModel",function(n,o){n||(scope.Input="")})}}}).directive("datePicker",function(){return{restrict:"EA",templateUrl:"app/home/date-picker.html",replace:!0,scope:{ngModel:"=",id:"@",placeholder:"@",required:"@",minMode:"="},link:function(scope){scope.Id=scope.id,scope.Placeholder=scope.placeholder,scope.Required=scope.required;var formats=["yyyy/MM/dd","dd.MM.yyyy","shortDate"];scope.format=formats[0],scope.$watch("minMode",function(){scope.dateOptions={formatYear:"yyyy",maxDate:new Date(2080,1,1),minDate:new Date(1970,1,1),startingDay:1,minMode:scope.minMode}}),scope.pop={isOpen:!1},scope.open=function(){scope.pop.isOpen=!0},scope.Model=scope.ngModel,scope.$watch("Model",function(){scope.ngModel=scope.Model})}}})}(),function(){"use strict";angular.module("controllers",["main"])}(),function(){"use strict";angular.module("services",[]).factory("httpServer",["$http","$q","CacheFactory",function($http,$q,CacheFactory){CacheFactory("dataCache",{maxAge:9e5,cacheFlushInterval:36e5,deleteOnExpire:"aggressive"});var http_catch_function=function(str){var key=str,deferred=$q.defer(),dataCache=CacheFactory.get("dataCache");return dataCache.get(key)?deferred.resolve(dataCache.get(key)):$http.get(key).success(function(data){"xx"==data.response_code&&dataCache.put(key,data),deferred.resolve(data)}),deferred.promise};return{"interface":function(){return http_catch_function("/url")}}}]).factory("httpInterceptor",["$q","$injector",function($q,$injector){return{response:function(response){return response.data?$q.reject(response):response}}}]).constant("authTable",{index:{pageTitle:"首页",auth:{loginCheck:!1}}})}(),function(){"use strict";angular.module("main",[]).controller("mainCtrl",["$scope",function($scope){$scope.sidebarStatus=!0,$scope.activeItem=1,$scope.changeSidebarStatus=function(status){$scope.sidebarStatus=status},$scope.changeActiveItem=function(item){$scope.activeItem=item},$scope.getNowHeight=function(){var height=document.getElementById("mainContent").offsetHeight+50+"px";return{height:height}}}])}();